{"generator":"Code Snippets v2.14.2","date_created":"2021-10-07 13:39","snippets":[{"name":"personajes_random","desc":"plugin que me permite mostrar todos los personajes que tengo en la base de datos al azar","tags":["shortcode"],"scope":"global","code":"function personajes_random() { \n\nglobal $wpdb;\n\n$registros = $wpdb->get_results( \"SELECT nombre, actor, pelicula FROM wp_personage ORDER BY RAND()\" );\n\n\n$string = '';\n\t\n\t$string .= '<table class=\"table table-striped table-dark\">';\n\t$string .= '<thead class=\"thead-light\">';\n\t$string .= '<tr>';\n\t\t$string .= '<td scope=\"col\">Personaje<\/td>';\n\t\t$string .= '<td scope=\"col\">Actor<\/td>';\n\t\t$string .= '<td scope=\"col\">Pelicula<\/td>';\n\t$string .= '<\/tr>';\n\t$string .= '<\/thead>';\n\t$string .= '<tbody>';\n\tfor ($i=0;$i<count($registros);$i++) {     \n\t\t$string .= '<tr>';\n\t\t$string .= '<td>'.$registros[$i]->nombre.'<\/td>';\n\t\t$string .= '<td>'.$registros[$i]->actor.'<\/td>';\n\t\t$string .= '<td>'.$registros[$i]->pelicula.'<\/td>';\n\t\t$string .= '<\/tr>';\n\t}\n\t$string .= '<\/tbody>';\n\t\n\t$string .= '<\/table>';\n\t\n\t\n\t\n    \/* Restore original Post Data *\/\n    wp_reset_postdata();\n\treturn $string;\n} \n \nadd_shortcode('personajes-random','personajes_random');\nadd_filter('widget_text', 'do_shortcode'); ","priority":"10"}]}