{"generator":"Code Snippets v2.14.2","date_created":"2021-10-07 13:39","snippets":[{"name":"random_peliculas","desc":"Permite mostrar 3 post de categor\u00eda pel\u00edcula al azar","tags":["shortcode"],"scope":"global","code":"function wpb_rand_posts() { \n \n$args = array(\n    'post_type' => 'post',\n    'orderby'   => 'rand',\n    'posts_per_page' => 3, \n\t'category_name' => 'peliculas',\n    );\n \n$the_query = new WP_Query( $args );\n\n$string = '';\t\n\t\nif ( $the_query->have_posts() ) {\n \n$string .= '<ul class=\"list-group\">';\n    while ( $the_query->have_posts() ) {\n        $the_query->the_post();\n        $string .= '<li class=\"list-group-item \"><a href=\"'. get_permalink() .'\" class=\"list-group-item list-group-item-action\">'. get_the_title() .'<\/a><\/li>';\n    }\n    $string .= '<\/ul>';\n    \/* Restore original Post Data *\/\n    wp_reset_postdata();\n} else {\n \n$string .= 'no posts found';\n}\n \nreturn $string; \n} \n \nadd_shortcode('wpb-random-posts','wpb_rand_posts');\nadd_filter('widget_text', 'do_shortcode'); ","priority":"10"}]}